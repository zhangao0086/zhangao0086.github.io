---
layout: post
title: "用JFreeChart 生成报表"
date: 2011-04-26 22:23:00
categories: [Java]
---


<p>JFreeChart是JAVA平台上的一个开放的图表绘制类库。它完全使用JAVA语言编写，是为applications, applets, servlets 以及JSP等使用所设计。JFreeChart可生成饼图（pie charts）、柱状图（bar charts）、散点图（scatter plots）、时序图（time series）、甘特图（Gantt charts）等等多种图表，并且可以产生PNG和JPEG格式的输出，还可以与PDF和EXCEL关联。</p><p>它所有的方法都是静态的,用起来很简便.</p><p>生成饼图:</p><div id="codeSnippetWrapper" style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:20px 0px 10px; width:99%; font-family:'Courier New',courier,monospace; direction:ltr; font-size:10pt; overflow:auto; border:silver 1px solid; padding:4px"><div id="codeSnippet" style="text-align:left; line-height:12pt; background-color:#f4f4f4; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">package</span> cn.zhangao.jfreechart;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">import</span> java.awt.Font;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">import</span> java.awt.Image;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">import</span> java.io.File;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">import</span> javax.imageio.ImageIO;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">import</span> org.jfree.chart.ChartFactory;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">import</span> org.jfree.chart.ChartUtilities;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">import</span> org.jfree.chart.JFreeChart;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">import</span> org.jfree.chart.labels.StandardPieSectionLabelGenerator;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">import</span> org.jfree.chart.plot.PiePlot;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">import</span> org.jfree.data.general.DefaultPieDataset;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">public</span> <span style="color:#0000ff">class</span> App {</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">    <span style="color:#0000ff">public</span> <span style="color:#0000ff">static</span> <span style="color:#0000ff">void</span> main(String[] args) {</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">        <span style="color:#0000ff">try</span> {</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//如果不使用Font,中文将显示不出来</span></pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            Font font = <span style="color:#0000ff">new</span> Font(<span style="color:#006080">&quot;宋体&quot;</span>, Font.BOLD, 15);</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            DefaultPieDataset pds = <span style="color:#0000ff">new</span> DefaultPieDataset();</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            pds.setValue(<span style="color:#006080">&quot;sun&quot;</span>, 100);</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            pds.setValue(<span style="color:#006080">&quot;ibm&quot;</span>, 300);</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            pds.setValue(<span style="color:#006080">&quot;bea&quot;</span>, 500);</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            pds.setValue(<span style="color:#006080">&quot;oracle&quot;</span>, 700);</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">/**</span></pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#008000">             * 生成一个饼图的图表</span></pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#008000">             * </span></pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#008000">             * 分别是:显示图表的标题、需要提供对应图表的DateSet对象、是否显示图例、是否生成贴士以及是否生成URL链接</span></pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#008000">             */</span></pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            JFreeChart chart = ChartFactory.createPieChart(<span style="color:#006080">&quot;标题&quot;</span>, pds, true, false, true);</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//设置图片标题的字体</span></pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            chart.getTitle().setFont(font);</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//得到图块,准备设置标签的字体</span></pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            PiePlot plot = (PiePlot) chart.getPlot();</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//设置分裂效果,需要指定分裂出去的key</span></pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            plot.setExplodePercent(<span style="color:#006080">&quot;oracle&quot;</span>, 0.3);</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//设置标签字体</span></pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            plot.setLabelFont(font);</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//设置图例项目字体</span></pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            chart.getLegend().setItemFont(font);</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">/**</span></pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#008000">             * 设置开始角度(弧度计算)</span></pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#008000">             * </span></pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#008000">             * 度    0°    30°        45°        60°        90°        120°    135°    150°    180°    270°    360°</span></pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#008000">             * 弧度    0    π/6        π/4        π/3        π/2        2π/3    3π/4    5π/6    π        3π/2    2π</span></pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#008000">             */</span></pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            plot.setStartAngle(<span style="color:#0000ff">new</span> Float(3.14f / 2f));</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//设置背景图片,设置最大的背景</span></pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            Image img = ImageIO.read(<span style="color:#0000ff">new</span> File(<span style="color:#006080">&quot;d:/sunset.jpg&quot;</span>));</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            chart.setBackgroundImage(img);</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//设置plot的背景图片</span></pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            img = ImageIO.read(<span style="color:#0000ff">new</span> File(<span style="color:#006080">&quot;d:/Water.jpg&quot;</span>));</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            plot.setBackgroundImage(img);</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//设置plot的前景色透明度</span></pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            plot.setForegroundAlpha(0.7f);</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//设置plot的背景色透明度</span></pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            plot.setBackgroundAlpha(0.0f);</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//设置标签生成器(默认{0})</span></pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//{0}:key {1}:value {2}:百分比 {3}:sum</span></pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            plot.setLabelGenerator(<span style="color:#0000ff">new</span> StandardPieSectionLabelGenerator(<span style="color:#006080">&quot;{0}({1})/{2}&quot;</span>));</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//将内存中的图片写到本地硬盘</span></pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            ChartUtilities.saveChartAsJPEG(<span style="color:#0000ff">new</span> File(<span style="color:#006080">&quot;d:/pie.jpg&quot;</span>), chart, 600, 300);</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">        } <span style="color:#0000ff">catch</span> (Exception e) {</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            e.printStackTrace();</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">        }</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">    }</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">}</pre></div></div><p>效果:</p><p><a target=_blank href="http://hi.csdn.net/attachment/201104/26/0_1303827811fUql.gif"><img title="image" src="http://hi.csdn.net/attachment/201104/26/0_1303827816zZ7C.gif" border="0" alt="image" width="549" height="274" style="border-right-width:0px; padding-left:0px; padding-right:0px; display:inline; border-top-width:0px; border-bottom-width:0px; border-left-width:0px; padding-top:0px" /></a></p><p>还可以生成3D效果的图片,只需要轻松地修改几个调用的方法即可:</p><div id="codeSnippetWrapper" style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:20px 0px 10px; width:99%; font-family:'Courier New',courier,monospace; direction:ltr; font-size:10pt; overflow:auto; border:silver 1px solid; padding:4px"><div id="codeSnippet" style="text-align:left; line-height:12pt; background-color:#f4f4f4; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">JFreeChart chart = ChartFactory.createPieChart3D(<span style="color:#006080">&quot;标题&quot;</span>, pds, true, false, true);</pre></div></div><div id="codeSnippetWrapper" style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:20px 0px 10px; width:99%; font-family:'Courier New',courier,monospace; direction:ltr; font-size:10pt; overflow:auto; border:silver 1px solid; padding:4px"><div id="codeSnippet" style="text-align:left; line-height:12pt; background-color:#f4f4f4; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">PiePlot3D plot = (PiePlot3D) chart.getPlot();</pre></div></div><p>其他地方都不用改.但是需要注意的是:<strong><span style="color:#ff0000">3D不能使用分裂效果!</span></strong></p><p><a target=_blank href="http://hi.csdn.net/attachment/201104/26/0_1303827820dZJk.gif"><img title="image" src="http://hi.csdn.net/attachment/201104/26/0_1303827824wO1Q.gif" border="0" alt="image" width="552" height="283" style="border-right-width:0px; margin:0px; padding-left:0px; padding-right:0px; display:inline; border-top-width:0px; border-bottom-width:0px; border-left-width:0px; padding-top:0px" /></a></p><p>生成柱状图:</p><div id="codeSnippetWrapper" style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:20px 0px 10px; width:99%; font-family:'Courier New',courier,monospace; direction:ltr; font-size:10pt; overflow:auto; border:silver 1px solid; padding:4px"><div id="codeSnippet" style="text-align:left; line-height:12pt; background-color:#f4f4f4; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">package</span> cn.zhangao.jfreechart;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">import</span> java.awt.Font;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">import</span> java.io.File;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">import</span> javax.imageio.ImageIO;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">import</span> org.jfree.chart.ChartFactory;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">import</span> org.jfree.chart.ChartUtilities;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">import</span> org.jfree.chart.JFreeChart;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">import</span> org.jfree.chart.plot.CategoryPlot;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">import</span> org.jfree.chart.plot.PlotOrientation;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">import</span> org.jfree.data.category.DefaultCategoryDataset;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">public</span> <span style="color:#0000ff">class</span> AppBar {</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">    <span style="color:#0000ff">public</span> <span style="color:#0000ff">static</span> <span style="color:#0000ff">void</span> main(String[] args) {</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">        <span style="color:#0000ff">try</span> {</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//种类数据集</span></pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            DefaultCategoryDataset ds = <span style="color:#0000ff">new</span> DefaultCategoryDataset();</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            ds.setValue(100, <span style="color:#006080">&quot;ibm&quot;</span>, <span style="color:#006080">&quot;第一季度&quot;</span>);</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            ds.setValue(200, <span style="color:#006080">&quot;ibm&quot;</span>, <span style="color:#006080">&quot;第二季度&quot;</span>);</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            ds.setValue(600, <span style="color:#006080">&quot;ibm&quot;</span>, <span style="color:#006080">&quot;第三季度&quot;</span>);</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            ds.setValue(500, <span style="color:#006080">&quot;google&quot;</span>, <span style="color:#006080">&quot;第一季度&quot;</span>);</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            ds.setValue(333, <span style="color:#006080">&quot;google&quot;</span>, <span style="color:#006080">&quot;第二季度&quot;</span>);</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            ds.setValue(780, <span style="color:#006080">&quot;google&quot;</span>, <span style="color:#006080">&quot;第三季度&quot;</span>);</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            ds.setValue(600, <span style="color:#006080">&quot;用友&quot;</span>, <span style="color:#006080">&quot;第一季度&quot;</span>);</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            ds.setValue(1500, <span style="color:#006080">&quot;用友&quot;</span>, <span style="color:#006080">&quot;第二季度&quot;</span>);</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            ds.setValue(300, <span style="color:#006080">&quot;用友&quot;</span>, <span style="color:#006080">&quot;第三季度&quot;</span>);</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            Font font = <span style="color:#0000ff">new</span> Font(<span style="color:#006080">&quot;宋体&quot;</span>, Font.BOLD, 20);</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//创建柱状图,柱状图分水平显示和垂直显示两种</span></pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            JFreeChart chart = ChartFactory.createBarChart(<span style="color:#006080">&quot;前三季度各大公司JEEAS市场销售情况&quot;</span>, <span style="color:#006080">&quot;季度&quot;</span>, <span style="color:#006080">&quot;销量(万台)&quot;</span>, ds, PlotOrientation.VERTICAL, true, true, true);</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//设置整个图片的标题字体</span></pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            chart.getTitle().setFont(font);</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//设置提示条字体</span></pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            font = <span style="color:#0000ff">new</span> Font(<span style="color:#006080">&quot;宋体&quot;</span>, Font.BOLD, 15);</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            chart.getLegend().setItemFont(font);</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//得到绘图区</span></pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            CategoryPlot plot = (CategoryPlot) chart.getPlot();</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//得到绘图区的域轴(横轴),设置标签的字体</span></pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            plot.getDomainAxis().setLabelFont(font);</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//设置横轴标签项字体</span></pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            plot.getDomainAxis().setTickLabelFont(font);</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//设置范围轴(纵轴)字体</span></pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            plot.getRangeAxis().setLabelFont(font);</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//存储成图片</span></pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//设置chart的背景图片</span></pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            chart.setBackgroundImage(ImageIO.read(<span style="color:#0000ff">new</span> File(<span style="color:#006080">&quot;d:/sunset.bmp&quot;</span>)));</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            plot.setBackgroundImage(ImageIO.read(<span style="color:#0000ff">new</span> File(<span style="color:#006080">&quot;d:/Water.jpg&quot;</span>)));</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            plot.setForegroundAlpha(1.0f);</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            ChartUtilities.saveChartAsJPEG(<span style="color:#0000ff">new</span> File(<span style="color:#006080">&quot;d:/bar.jpg&quot;</span>), chart, 600, 400);</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">        } <span style="color:#0000ff">catch</span> (Exception e) {</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            e.printStackTrace();</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">        }</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">    }</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">}</pre></div></div><p>平面2D效果:</p><p><a target=_blank href="http://hi.csdn.net/attachment/201104/27/0_1303915367R7Fw.gif"><img title="image" src="http://hi.csdn.net/attachment/201104/27/0_13039153708c85.gif" border="0" alt="image" width="416" height="280" style="border-right-width:0px; padding-left:0px; padding-right:0px; display:inline; border-top-width:0px; border-bottom-width:0px; border-left-width:0px; padding-top:0px" /></a></p><p>柱状图默认的ForegroundAlpha属性值是0.5,半透明的.创建3D柱状图只需要使用createBarChart3D()这个方法即可:</p><p><a target=_blank href="http://hi.csdn.net/attachment/201104/27/0_1303915376bX00.gif"><img title="image" src="http://hi.csdn.net/attachment/201104/27/0_1303915380YBva.gif" border="0" alt="image" width="495" height="334" style="border-right-width:0px; padding-left:0px; padding-right:0px; display:inline; border-top-width:0px; border-bottom-width:0px; border-left-width:0px; padding-top:0px" /></a></p><p>生成拆线图:</p><div id="codeSnippetWrapper" style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:20px 0px 10px; width:99%; font-family:'Courier New',courier,monospace; direction:ltr; font-size:10pt; overflow:auto; border:silver 1px solid; padding:4px"><div id="codeSnippet" style="text-align:left; line-height:12pt; background-color:#f4f4f4; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">package</span> cn.zhangao.jfreechart;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">import</span> java.awt.Font;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">import</span> java.io.File;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">import</span> javax.imageio.ImageIO;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">import</span> org.jfree.chart.ChartFactory;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">import</span> org.jfree.chart.ChartUtilities;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">import</span> org.jfree.chart.JFreeChart;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">import</span> org.jfree.chart.plot.CategoryPlot;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">import</span> org.jfree.chart.plot.PlotOrientation;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">import</span> org.jfree.data.category.DefaultCategoryDataset;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px"><span style="color:#0000ff">public</span> <span style="color:#0000ff">class</span> AppLine {</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">    <span style="color:#0000ff">public</span> <span style="color:#0000ff">static</span> <span style="color:#0000ff">void</span> main(String[] args) {</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">        <span style="color:#0000ff">try</span> {</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//种类数据集</span></pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            DefaultCategoryDataset ds = <span style="color:#0000ff">new</span> DefaultCategoryDataset();</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            ds.setValue(100, <span style="color:#006080">&quot;ibm&quot;</span>, <span style="color:#006080">&quot;第一季度&quot;</span>);</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            ds.setValue(200, <span style="color:#006080">&quot;ibm&quot;</span>, <span style="color:#006080">&quot;第二季度&quot;</span>);</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            ds.setValue(600, <span style="color:#006080">&quot;ibm&quot;</span>, <span style="color:#006080">&quot;第三季度&quot;</span>);</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            ds.setValue(500, <span style="color:#006080">&quot;google&quot;</span>, <span style="color:#006080">&quot;第一季度&quot;</span>);</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            ds.setValue(333, <span style="color:#006080">&quot;google&quot;</span>, <span style="color:#006080">&quot;第二季度&quot;</span>);</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            ds.setValue(780, <span style="color:#006080">&quot;google&quot;</span>, <span style="color:#006080">&quot;第三季度&quot;</span>);</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            ds.setValue(600, <span style="color:#006080">&quot;用友&quot;</span>, <span style="color:#006080">&quot;第一季度&quot;</span>);</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            ds.setValue(1500, <span style="color:#006080">&quot;用友&quot;</span>, <span style="color:#006080">&quot;第二季度&quot;</span>);</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            ds.setValue(300, <span style="color:#006080">&quot;用友&quot;</span>, <span style="color:#006080">&quot;第三季度&quot;</span>);</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            Font font = <span style="color:#0000ff">new</span> Font(<span style="color:#006080">&quot;宋体&quot;</span>, Font.BOLD, 20);</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//创建柱状图</span></pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            JFreeChart chart = ChartFactory.createLineChart(<span style="color:#006080">&quot;前三季度各大公司JEEAS市场销售情况&quot;</span>, <span style="color:#006080">&quot;季度&quot;</span>, <span style="color:#006080">&quot;销量(万台)&quot;</span>, ds, PlotOrientation.VERTICAL, true, true, true);</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//设置整个图片的标题字体</span></pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            chart.getTitle().setFont(font);</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//设置提示条字体</span></pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            font = <span style="color:#0000ff">new</span> Font(<span style="color:#006080">&quot;宋体&quot;</span>, Font.BOLD, 15);</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            chart.getLegend().setItemFont(font);</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//得到绘图区</span></pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            CategoryPlot plot = (CategoryPlot) chart.getPlot();</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//得到绘图区的域轴(横轴),设置标签的字体</span></pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            plot.getDomainAxis().setLabelFont(font);</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//设置横轴标签项字体</span></pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            plot.getDomainAxis().setTickLabelFont(font);</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//设置范围轴(纵轴)字体</span></pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            plot.getRangeAxis().setLabelFont(font);</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//存储成图片</span></pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            <span style="color:#008000">//设置chart的背景图片</span></pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            chart.setBackgroundImage(ImageIO.read(<span style="color:#0000ff">new</span> File(<span style="color:#006080">&quot;d:/sunset.bmp&quot;</span>)));</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            plot.setBackgroundImage(ImageIO.read(<span style="color:#0000ff">new</span> File(<span style="color:#006080">&quot;d:/Water.jpg&quot;</span>)));</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">&nbsp;</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            plot.setForegroundAlpha(1.0f);</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            ChartUtilities.saveChartAsJPEG(<span style="color:#0000ff">new</span> File(<span style="color:#006080">&quot;d:/line.jpg&quot;</span>), chart, 600, 400);</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">        } <span style="color:#0000ff">catch</span> (Exception e) {</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">            e.printStackTrace();</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">        }</pre><pre style="text-align:left; line-height:12pt; background-color:#f4f4f4; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">    }</pre><pre style="text-align:left; line-height:12pt; background-color:white; margin:0em; width:100%; font-family:'Courier New',courier,monospace; direction:ltr; color:black; font-size:10pt; overflow:visible; border-style:none; padding:0px">}</pre></div></div><p>平面2D效果:</p><p><a target=_blank href="http://hi.csdn.net/attachment/201104/27/0_13039153860CCF.gif"><img title="image" src="http://hi.csdn.net/attachment/201104/27/0_1303915391HyNg.gif" border="0" alt="image" width="485" height="325" style="border-right-width:0px; padding-left:0px; padding-right:0px; display:inline; border-top-width:0px; border-bottom-width:0px; border-left-width:0px; padding-top:0px" /></a></p><p>同样只需要使用createLineChart3D()方法创建3D拆线图,效果:</p><p><a target=_blank href="http://hi.csdn.net/attachment/201104/27/0_1303915399bB5L.gif"><img title="image" src="http://hi.csdn.net/attachment/201104/27/0_1303915404Ez22.gif" border="0" alt="image" width="492" height="331" style="border-right-width:0px; padding-left:0px; padding-right:0px; display:inline; border-top-width:0px; border-bottom-width:0px; border-left-width:0px; padding-top:0px" /></a></p>