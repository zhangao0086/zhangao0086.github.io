---
layout: compress
---

<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
  <head>
    {% if site.google_analytics %}
      <script defer src="https://www.googletagmanager.com/gtag/js?id={{ site.google_analytics }}"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', '{{ site.google_analytics }}');
      </script>
    {% endif %}
    <meta charset="UTF-8">
    <link rel="icon" type="image/png" href="/favicon.png"/>
{% seo %}
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="{{ '/assets/css/sidebar.css?v=' | append: site.github.build_revision | relative_url }}" />
    <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}" />
    <link rel="stylesheet" href="{{ '/assets/css/fonts/style.css?v=' | append: site.github.build_revision | relative_url }}" />
  </head>
  <body>
    {% include sidebar.html %}

    <div class="wrap">
      <nav id="navbar" class="navbar">
        <i id="search-trigger" class="icon-search"></i>
        <span id="search-wrapper" class="align-items-center">
          <i class="icon-search"></i>
          <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="搜索...">
          <i class="icon-times-circle" id="search-cleaner"></i>
        </span>

        <span id="search-cancel" >Cancel</span>
        <i id="sidebar-trigger" class="icon-bars sidebar-toggle"></i>
      </nav>
      <header class="page-header" role="banner">
        <h1 class="project-name">{{ page.title | default: site.title | default: site.github.repository_name }}</h1>
  
        {% if page.date %}
          <middle>
            <span>
              {{ page.date | date: "%Y-%m-%d %H:%M:%S"}}<i class="icon-circle circle-divider"></i>{% include reading_time.html content = content %}
            </span>
          </middle>
        {% endif %}
      </header>

      <main id="main-content" class="container main-content" role="main">
        {{ content }}
        <footer class="site-footer">
          <span>&copy; {{ site.time | date: '%Y' }} <i class="icon-heart"></i> {{ site.author.name }}.</span>
          <span class="site-footer-credits">This page was generated by <a href="https://jekyllrb.com/">Jekyll</a>.</span>
        </footer>
      </main>
    </div>
    {% include lozad.html %}
    {% include search-results.html %}
    {% include search-loader.html %}
  </body>
</html>

<script>
    (function(document) {
      const toggle = document.querySelector('.sidebar-toggle');
      const sidebar = document.querySelector('#sidebar');
      const checkbox = document.querySelector('#sidebar-checkbox');
      const overlay = document.getElementById('sidebar-overlay');
      
      const sendChangeEvent = () => {
          const event = document.createEvent("HTMLEvents");
          event.initEvent('change', false, true);
          checkbox.dispatchEvent(event);
      };

      const handler = (e) => {
        var target = e.target;

        let checked = true;
        if (target === toggle) {
          checked = !checkbox.checked;
        } else if (target === overlay) {
          checked = false;
        } else {
          return;
        }

        if (checkbox.checked != checked) {
          checkbox.checked = checked;
          sendChangeEvent();
        }
      };

      document.addEventListener('click', handler, false);
      document.addEventListener('touchstart', handler, false);

      if (checkbox.checked) {
        /* 默认选中的状态 */
        if (!overlay.classList.contains('sidebar-overlay-display-show')) {
          /* 蒙版没有显示，可以是由于浏览器 back 了 */
          sendChangeEvent();
        }
      }
    })(document);
  </script>
